const contenedorCarrito=document.querySelector(".contenedor-menu"),fondoNegro=document.querySelector(".fondo-negro"),fechaRight=document.querySelector("#flecha"),iconocarrito=document.querySelector(".carrito-mostrar"),cajaCarrito=document.querySelector(".carrito-responsive"),cantidadCarrito=document.querySelector("#carrito-cantidad"),btnAgregar=document.querySelectorAll(".btn-agregar"),navheader=document.querySelector(".enlace-header");let pedidos=[];function limpiarHTML(){for(;contenedorCarrito.firstChild;)contenedorCarrito.removeChild(contenedorCarrito.firstChild)}function carritoPedido(){limpiarHTML(),pedidos.forEach(e=>{const{img:t,precio:r,id:o,cantidad:a,titulo:i}=e,n=document.createElement("div");n.classList.add("carrito-grid"),n.innerHTML=`\n    <img src='${t}' />\n    <div class='carrito-info'>\n        <div class="text-end">\n            <i class="far fa-times-circle btn-eliminar" data-id="${o}" ></i>\n        </div>\n        <p>${i}</p>\n        <p class="precio">Precio: <span>${r}</span></p>\n        <p>Cantidad: <input type="number" value="${a}"></p>\n    </div>\n    `,contenedorCarrito.appendChild(n)}),eliminar()}function eliminar(){document.querySelectorAll(".btn-eliminar").forEach(e=>{e.addEventListener("click",e=>{pedidos=pedidos.filter(t=>t.id!=e.target.dataset.id),carritoPedido()})})}cantidadCarrito.textContent=""+pedidos.length,window.addEventListener("scroll",(function(e){let t=window.scrollY;navheader.style.backgroundColor=t>15?"#121212":"transparent"})),fondoNegro.addEventListener("click",(function(e){fondoNegro.classList.remove("d-block"),fondoNegro.classList.add("d-none"),cajaCarrito.classList.remove("mostrar"),cajaCarrito.classList.add("ocultar")})),fechaRight.addEventListener("click",(function(e){fondoNegro.classList.remove("d-block"),fondoNegro.classList.add("d-none"),cajaCarrito.classList.remove("mostrar"),cajaCarrito.classList.add("ocultar")})),iconocarrito.addEventListener("click",(function(e){e.preventDefault(),fondoNegro.classList.remove("d-none"),fondoNegro.classList.add("d-block"),cajaCarrito.classList.remove("ocultar"),cajaCarrito.classList.add("mostrar")})),btnAgregar.forEach(e=>{e.addEventListener("click",(function(e){const t={img:e.target.parentElement.querySelector("img").src,precio:e.target.parentElement.querySelector(".card-info #precio-val").textContent,cantidad:1,titulo:e.target.parentElement.querySelector(".card-info .title-card").textContent,id:e.target.dataset.id};pedidos.some(e=>e.id==t.id)||(pedidos=[...pedidos,t],cantidadCarrito.textContent=""+pedidos.length,carritoPedido())}))});